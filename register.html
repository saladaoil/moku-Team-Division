<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ãƒãƒ¼ãƒ åˆ†ã‘">
    <link rel="apple-touch-icon" href="img/ã‚¢ã‚¤ã‚³ãƒ³.png">
    <title>ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <a href="index.html" class="nav-btn">ãƒãƒ¼ãƒ åˆ†ã‘ç”»é¢ã¸</a>
    
    <h1>ãƒ¡ãƒ³ãƒãƒ¼ã®ç™»éŒ²ãƒ»ç®¡ç†</h1>
    
    <div class="input-group">
        <input type="text" id="newName" placeholder="åå‰ã‚’å…¥åŠ›">
        <label class="check-label">
            <input type="checkbox" id="isMaleCheck" style="transform:scale(1.5); accent-color: var(--primary-purple);"> ç”·æ€§
        </label>
        <button class="btn-purple" onclick="addMember()">ãƒ¡ãƒ³ãƒãƒ¼ã«è¿½åŠ ã™ã‚‹</button>
    </div>

    <div id="masterList" style="max-height: 400px; overflow-y: auto;"></div>
</div>

<script>
    let masterPlayers = JSON.parse(localStorage.getItem('vb_purple_list')) || [];

    function addMember() {
        const nameInput = document.getElementById('newName');
        const isMale = document.getElementById('isMaleCheck').checked;
        if(!nameInput.value) return;

        masterPlayers.push({ id: Date.now(), name: nameInput.value, gender: isMale ? "1" : "2" });
        nameInput.value = '';
        document.getElementById('isMaleCheck').checked = false;
        saveData();
        renderMasterList();
    }

    function deleteMember(id) {
        if(!confirm("å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) return;
        masterPlayers = masterPlayers.filter(p => p.id !== id);
        saveData();
        renderMasterList();
    }

    function renderMasterList() {
        const list = document.getElementById('masterList');
        list.innerHTML = `<strong>åç°¿ä¸€è¦§ (${masterPlayers.length}äºº):</strong>`;
        masterPlayers.forEach(p => {
            const genderMark = p.gender === "1" ? "ğŸ”µ" : "ğŸŸ ";
            list.innerHTML += `
                <div class="list-item">
                    <span>${genderMark} ${p.name}</span>
                    <button onclick="deleteMember(${p.id})" style="color:var(--danger); border:none; background:none; cursor:pointer; font-weight:bold;">å‰Šé™¤</button>
                </div>`;
            });
    }

    function saveData() {
        localStorage.setItem('vb_purple_list', JSON.stringify(masterPlayers));
    }

    renderMasterList();
</script>
</body>
</html>